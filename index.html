<!doctype html>
<html>
<head>
	<title>Wasted Time</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="css/app.css" type="text/css" media="screen">
</head>
<body>
<center>
	<div class="button"><a id="waiting">Waiting</a></div>
	<div id="status"></div>
	<div id="history"></div>
	<div class="button"><a id="reset">Reset</a></div>
</center>

<script src="js/jquery-1.7.1.min.js"></script>
<script src="js/pubsub.js"></script>
<script src="js/app.js"></script>

<script>
$('#reset').bind('click', function(event) {
	APP.reset();
});
$('#waiting').bind('touchstart', function(event) {
	APP.start();
	$('#status').html('<p>Waiting...</p>');
});
$('#waiting').bind('touchend', function(event) {
	APP.stop();
});
$.subscribe(APP.EVENT_STOPPED_WAITING, function(duration, cumulativeDuration) {
	if (duration > 0) {
		$('#status').html('<p>Waited '+ APP.prettyPrintDuration(duration) +'</p>');
	} else {
		$('#status').html('');
	}
	$('#history').html('<p>Cumulative Wait time:<br/><span class="totalTime">'+ APP.prettyPrintDuration(cumulativeDuration) +'</span></p>');
});
APP.init();
</script>

</body>
</html>